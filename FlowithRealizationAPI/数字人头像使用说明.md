# 🎭 自定义数字人使用说明

## 📋 系统特点

### ✨ 纯自定义模式

**特点**: 系统已完全移除默认数字人，只支持用户上传的自定义头像

**优势**: 
- ✅ 完全个性化：每个数字人都是您自己创建的
- ✅ 无版权问题：使用自己的照片或获得授权的图片
- ✅ 灵活管理：可以创建多个不同风格的数字人
- ✅ 模板复用：创建的数字人可以重复使用

## 🚀 使用方法

### 依赖安装（首次使用）

1. **安装Python依赖**:
   ```
   双击运行: 安装依赖.bat
   ```
   
2. **测试依赖**:
   ```
   双击运行: 测试依赖.bat
   ```

### 快速启动（推荐）

1. **双击运行启动脚本**:
   ```
   启动系统.bat
   ```

2. **访问系统**:
   - **HTTPS (推荐)**: https://localhost:7135
   - **HTTP**: http://localhost:5109

### 手动启动

1. **启动Ollama服务**:
   ```bash
   ollama serve
   ```

2. **启动.NET应用**:
   ```bash
   dotnet run --urls="https://localhost:7135;http://localhost:5109"
   ```

3. **访问系统**:
   - **HTTPS (推荐)**: https://localhost:7135
   - **HTTP**: http://localhost:5109

### 创建自定义数字人

1. **点击"📤 上传头像"按钮**
2. **填写模板信息**:
   - 模板名称（必填）
   - 描述（可选）
   - 性别：女性/男性/中性
   - 风格：专业/友好/休闲
3. **上传头像图片**:
   - 点击或拖拽图片到上传区域
   - 支持JPG、PNG、WebP格式
   - 建议尺寸：512x512像素
   - 最大文件大小：10MB
4. **点击"创建模板"按钮**
5. **等待处理完成**

### 使用语音识别功能

1. **切换到语音输入模式**:
   - 点击"🎤 语音输入"标签

2. **开始录音**:
   - 点击红色录音按钮开始录音
   - 说话内容将被录制
   - 再次点击停止录音

3. **查看识别结果**:
   - 识别结果会显示在"识别结果"文本框中
   - 同时会自动填充到文本输入框

4. **发送消息**:
   - 点击"发送识别内容"按钮
   - 系统会生成数字人视频回复

5. **清空内容**:
   - 点击"清空"按钮重置识别结果

### 管理数字人模板

1. **点击"📋 管理模板"按钮**
2. **查看所有自定义数字人**:
   - 模板名称和描述
   - 创建时间和使用次数
   - 预览图片和视频
3. **管理功能**:
   - 测试模板效果
   - 删除不需要的模板
   - 查看使用统计

### 开始对话

1. **选择自定义数字人**:
   - 在头像选择区域点击选择
   - 选中的头像会有蓝色边框高亮

2. **输入文本或语音**:
   - 在文本框中输入内容
   - 或使用语音输入功能

3. **发送消息**:
   - 点击"发送消息"按钮
   - 系统会生成对应的数字人视频

4. **观看回复**:
   - 视频会在播放区域显示
   - 可以控制播放、暂停、音量等

## ⚠️ 注意事项

### 图片要求
- **格式**: JPG、PNG、WebP
- **尺寸**: 建议512x512像素
- **内容**: 清晰的人脸正面照片
- **背景**: 纯色背景（推荐白色或浅色）
- **光线**: 均匀柔和的光线
- **表情**: 自然、友好的表情

### 版权声明
**重要提醒**: 请确保您有使用这些头像图片的合法权限。
- 使用自己的照片
- 获得他人明确授权
- 使用免费商用图片
- 遵守相关法律法规

### 技术限制
- 最大文件大小：10MB
- 支持的语言：中文、英文
- 视频质量：可调节（低、中、高、超高清）
- 响应模式：立即、快速、高质量

## 🔧 故障排除

### 1. 界面滚动问题
**解决方案**: 
- ✅ 已修复CSS样式问题
- ✅ 页面现在支持正常的垂直滚动

### 2. HTTPS访问问题
**解决方案**:
- ✅ 已安装和信任.NET开发证书
- ✅ 使用批处理脚本自动配置HTTPS
- ✅ 支持HTTP和HTTPS双端口访问

### 3. 录音权限问题
**解决方案**:
- ✅ 系统会自动检测麦克风权限状态
- ✅ 显示详细的权限状态信息
- ✅ 提供HTTPS解决方案提示
- ✅ 支持localhost和127.0.0.1本地访问

### 4. 创建数字人失败
**可能原因**:
- 图片格式不支持
- 文件大小超过限制
- 网络连接问题
- 服务异常

**解决方案**:
- 检查图片格式和大小
- 重新上传图片
- 检查网络连接
- 重启服务

## 📞 技术支持

如果您在使用过程中遇到问题，请：
1. 检查浏览器控制台是否有错误信息
2. 查看服务日志文件
3. 确认所有依赖服务正常运行
4. 参考主项目的README文档 